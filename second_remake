"""
projekt_2.py: druhÃ½ projekt do Engeto Online Python Akademie
author: Eliska Loup
email: eliskaloup@outlook.com
discord: eliskaloup
"""
import random

def introduction():
    print("Hi there!", separator, "I've generated a random 4 digit number for you","Enter four unique numbers that doesn't START with zero","Let's play a bulls and cows game", separator, sep="\n")
separator = "-" * 55

"""
generating a secret 4 digit number, that can not start with 0, but can contain 0.
"""
def generate_secret_number():
    while True:
        secret_number = str(random.randint(1000, 9999))
        if len(set(secret_number)) == 4 and secret_number[0] != '0':
            return secret_number
        
"""
validating if the user's imput is in the games criteria and rules
"""
def number_validation(players_number):
    if players_number == "":
        print("enter a 4 digit number", separator, sep="\n")
    elif (str(players_number)[0]) == "0":                                           #word can not start with 0
        print("number '0' can not be selected as first digit", separator, sep="\n")
    elif players_number.isdigit() == False:                                         #word can not be a letter
        print("enter only digits", separator, sep="\n")     
    elif len(players_number) != 4:                                                  #word must be 4 letters long
        print("you must enter 4 digit number", separator, sep="\n")
    elif len(set(players_number)) != 4:                                             #word can not have duplicates
        print("your number contains two or more same digits", separator, sep="\n")
    else:
        return True
    return False

if __name__ == "__main__":
    secret_number = generate_secret_number()
    introduction()
    my_guess_count = 0
    maximum_guesses_attempt = int(input("Choose the maximum number of your guessing attempt: "))
    print(f"{separator}\nEnter a number:",sep="\n")
    while maximum_guesses_attempt > 0:
        choosen_number = input(">>>")
        if number_validation(choosen_number):
            bulls = 0
            cows = 0
            for i in range(len(secret_number)):
                if choosen_number[i] in secret_number:
                    if choosen_number[i] == secret_number[i]:
                        bulls += 1
                    else:
                        cows += 1
            print(f"{bulls} {'bull' if bulls == 1 else 'bulls'}, {cows} {'cow' if cows == 1 else 'cows'}")
            my_guess_count += 1
            counting_end_of_game = maximum_guesses_attempt - my_guess_count
            if bulls == 4:
                print(f"{separator}\nCorrect, you've guessed the right number in {my_guess_count} guesses! \n{separator}")
                break
            if counting_end_of_game  == 0:
                print(f"{separator}\nYou have lost! The number was {secret_number}\n{separator}")
                break
            print(f"You have {counting_end_of_game} {'attempt' if counting_end_of_game == 1 else 'attempts'} left \n{separator}")
        else:
            continue
